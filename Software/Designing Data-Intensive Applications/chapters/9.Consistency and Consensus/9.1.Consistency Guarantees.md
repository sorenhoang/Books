# **Consistency Guarantees**

Most replicated databases provide at least **eventual consistency**, which means that if you stop writing to the database and wait for some unspecified length of time, eventually all read requests will return the same value. This is also known as **convergence**, as all replicas are expected to eventually reach the same state. 

### **The Limitations of Eventual Consistency**
*   **Weakness of the Guarantee:** It is considered a very weak guarantee because it specifies no timeframe for when convergence will happen.
*   **Application Complexity:** Until the replicas converge, a read might return anything or nothing. This behavior is inconsistent with variables in a normal **single-threaded program**, where a read immediately following a write is expected to return the new value.
*   **Edge Cases:** While applications may work well most of the time under weak guarantees, bugs often appear during **network faults** or at **high concurrency**.

### **Stronger Consistency Models**
*   **Ease of Use:** Stronger consistency models are often more appealing to developers because they are easier to use correctly and hide complexities like replication lag.
*   **Trade-offs:** These models do not come for free; systems with stronger guarantees may have **worse performance** or be **less fault-tolerant** than those with weaker guarantees.
*   **Consistency vs. Isolation:** It is important to distinguish between **distributed consistency** (coordinating replica states despite delays and faults) and **transaction isolation** (avoiding race conditions in concurrent transactions).

### **Abstractions for Fault Tolerance**
The best way to build fault-tolerant systems is to find general-purpose abstractions with useful guarantees, such as **consensus**. By using these abstractions, an application can ignore certain issues like node crashes or network delays, much like how **transactions** hide the complexities of concurrency and disk failures. 

**Eventual consistency** is like a group of friends trying to agree on a movie via a slow group chat; some people might see a suggestion later than others, leading to a period of confusion where different people think different movies have been chosen. However, if everyone stops texting for a few minutes, they will all eventually see the same final decision. **Strong consistency**, by contrast, is like the group sitting in a room togetherâ€”once a choice is spoken out loud, everyone hears it at the exact same moment.